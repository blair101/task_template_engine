fields:
  - field_code: F_INV_AMOUNT
    root:
      type: chain
      children:
      - pipeline: regex
        params:
          action: extract_pattern
          inputs:
            input: document.text
          outputs:
            value: tmp.F_INV_AMOUNT.value
            start: tmp.F_INV_AMOUNT.start
            end: tmp.F_INV_AMOUNT.end
          pattern_rule: total revenue amount is \d+ USD
      - pipeline: regex
        params:
          action: extract_pattern
          inputs:
            input: tmp.F_INV_AMOUNT.value
          outputs:
            value: fields.F_INV_AMOUNT.value
            start: tmp.F_INV_AMOUNT_2.start
            end: tmp.F_INV_AMOUNT_2.end
          pattern_rule: \d+
      - pipeline: math
        params:
          action: add
          inputs:
            a: tmp.F_INV_AMOUNT.start
            b: tmp.F_INV_AMOUNT_2.start
          outputs:
            c: fields.F_INV_AMOUNT.start
      - pipeline: math
        params:
          action: add
          inputs:
            a: tmp.F_INV_AMOUNT.start
            b: tmp.F_INV_AMOUNT_2.end
          outputs:
            c: fields.F_INV_AMOUNT.end